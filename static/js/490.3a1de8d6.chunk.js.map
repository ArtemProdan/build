{"version":3,"file":"static/js/490.3a1de8d6.chunk.js","mappings":"gMACA,EAAuB,mBAAvB,EAA2D,6BAA3D,EAAoG,wBAApG,EAA0I,0BAA1I,EAAgL,wBAAhL,EAAkQ,oB,kBCsDlQ,EAnDa,WACX,IAAAA,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAgCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAxCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAA0BT,EAAAA,EAAAA,WAAS,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAlCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAwCb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA7CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GA0BpC,OAxBAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEI,OAFJF,EAAAC,KAAA,EAEdpB,GAAY,GAAMmB,EAAAE,KAAA,EACKC,MAAM,4EAA4E,KAAD,EAA1F,GACU,OADlBN,EAAQG,EAAAI,MACDC,OAAc,CAAAL,EAAAE,KAAA,QAEyB,OADlDjB,GAAS,GACTI,EAAgB,wKAAkCW,EAAAM,OAAA,wBAAAN,EAAAE,KAAA,GAGjCL,EAASU,OAAO,KAAD,GAA5BT,EAAIE,EAAAI,KACV3B,EAAQqB,EAAKU,OACbC,QAAQC,IAAIZ,EAAKU,OAAOR,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAW,GAAAX,EAAA,SAExBS,QAAQzB,MAAKgB,EAAAW,IACb1B,GAAS,GACTI,EAAeW,EAAAW,IAAS,QAE1B9B,GAAY,GAAO,yBAAAmB,EAAAY,OAAA,GAAAhB,EAAA,mBACpB,kBAlBc,OAAAJ,EAAAqB,MAAA,KAAAC,UAAA,KAoBfvB,GACF,GAAG,IAECP,GACK+B,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAQC,SAAA,CAAC,IAAE9B,MAIjC+B,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAOC,SACpB1C,EAAK4C,KAAI,SAACC,GAAI,OACbN,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAiBC,SAAA,EAC/BH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAYC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,KAAGG,KAAMD,EAAKE,KAAMP,UAAWC,EAAaO,OAAO,SAASC,IAAI,aAAYP,SACzEG,EAAKK,SAERP,EAAAA,EAAAA,KAAA,KAAAD,SAAIG,EAAKM,aAEV/C,GAAWuC,EAAAA,EAAAA,KAACS,EAAAA,EAAS,KAAMT,EAAAA,EAAAA,KAAA,OAAKO,MAAM,eAAeG,IAAKR,EAAKS,UAAUP,KAAMP,UAAWC,EAAec,IAAI,OAPzEV,EAAKW,KAQtC,KAId,C","sources":["webpack://samurai/./src/components/News/News.module.css?fa32","components/News/News.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"news\":\"News_news__j73Ii\",\"news_container\":\"News_news_container__VyZXq\",\"news_link\":\"News_news_link__posiE\",\"news_iframe\":\"News_news_iframe__58aj8\",\"news_info\":\"News_news_info__GynSw\",\"background_image\":\"News_background_image__6M-Ur\",\"error\":\"News_error__sGxmZ\"};","import React, { useState, useEffect } from 'react';\r\nimport s from './News.module.css';\r\nimport { Preloader } from '../Common/Preloader';\r\n\r\nconst News = () => {\r\n  const [news, setNews] = useState([]);\r\n  const [fetching, setFetching] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(''); // Добавлено состояние для текста ошибки\r\n\r\n  useEffect(() => {\r\n    const fetchNews = async () => {\r\n      try {\r\n        setFetching(true);\r\n        const response = await fetch('https://api.rss2json.com/v1/api.json?rss_url=https://news.yahoo.com/rss/');\r\n        if (response.status === 429) {\r\n          setError(true);\r\n          setErrorMessage('Превышено количество запросов'); // Устанавливаем текст ошибки для ошибки 429\r\n          return;\r\n        }\r\n        const data = await response.json();\r\n        setNews(data.items);\r\n        console.log(data.items);\r\n      } catch (error) {\r\n        console.error(error);\r\n        setError(true);\r\n        setErrorMessage(error); // Устанавливаем текст ошибки для других ошибок\r\n      }\r\n      setFetching(false);\r\n    };\r\n\r\n    fetchNews();\r\n  }, []);\r\n\r\n  if (error) {\r\n    return <h2 className={s.error}> {errorMessage}</h2>; // Выводим сообщение об ошибке\r\n  }\r\n\r\n  return (\r\n    <div className={s.news}>\r\n      {news.map((item) => (\r\n        <div className={s.news_container} key={item.guid}>\r\n          <div className={s.news_info}>\r\n            <a href={item.link} className={s.news_link} target=\"_blank\" rel=\"noreferrer\">\r\n              {item.title}\r\n            </a>\r\n            <p>{item.pubDate}</p>\r\n          </div>\r\n          {fetching ? <Preloader /> : <img title=\"News article\" src={item.enclosure.link} className={s.news_iframe} alt=\"\" />}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default News;\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","news","setNews","_useState3","_useState4","fetching","setFetching","_useState5","_useState6","error","setError","_useState7","_useState8","errorMessage","setErrorMessage","useEffect","fetchNews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_context","prev","next","fetch","sent","status","abrupt","json","items","console","log","t0","stop","apply","arguments","_jsxs","className","s","children","_jsx","map","item","href","link","target","rel","title","pubDate","Preloader","src","enclosure","alt","guid"],"sourceRoot":""}